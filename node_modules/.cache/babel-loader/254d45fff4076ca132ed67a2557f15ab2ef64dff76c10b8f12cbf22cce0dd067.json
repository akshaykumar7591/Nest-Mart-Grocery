{"ast":null,"code":"import _defineProperty from\"E:/Ecommerce_Nest/Ecommerce-Website-React-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/Ecommerce_Nest/Ecommerce-Website-React-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/Ecommerce_Nest/Ecommerce-Website-React-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button}from'@mui/material';import TextField from'@mui/material/TextField';import React,{useContext,useState}from'react';import{MyContext}from'../../App';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Checkout=function Checkout(){var _useState=useState({name:'',pincode:'',address:'',phoneNumber:''}),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setformFields=_useState2[1];var context=useContext(MyContext);var history=useNavigate();var placeOrder=function placeOrder(){if(formFields.name===\"\"||formFields.address==\"\"||formFields.pincode==\"\"||formFields.phoneNumber==\"\"){alert(\"All fields Required\");return false;}var addressInfo={name:formFields.name,phoneNumber:formFields.phoneNumber,address:formFields.address,pincode:formFields.pincode,date:new Date().toLocaleString(\"en-US\",{month:\"short\",day:\"2-digit\",year:\"numeric\"})};var options={key:\"rzp_test_frsIrr7Fl8aG9M\",key_secret:\"WQRbZ4AOhQYBlhDJrxvf7lOl\",amount:parseInt(context.cartTotalAmount*100),currency:\"INR\",order_receipt:'order_rcptid_'+formFields.name,name:\"Nest Mart & Grocery\",description:\"for testing purpose\",handler:function handler(response){// console.log(response)\nvar paymentId=response.razorpay_payment_id;// store in firebase \nvar orderInfo={cartItems:context.cartItems,addressInfo:addressInfo,date:new Date().toLocaleString(\"en-US\",{month:\"short\",day:\"2-digit\",year:\"numeric\"}),email:localStorage.getItem(\"userEmail\"),userid:localStorage.getItem(\"userId\"),paymentId:paymentId};history('/');},theme:{color:\"#3399cc\"}};var pay=new window.Razorpay(options);pay.open();};var changeInput=function changeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setformFields(function(){return _objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsx(\"section\",{className:\"cartSection mb-5 checkoutPage\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form w-75 mt-4 shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shopping Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3 mt-4\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Full Name\",variant:\"outlined\",className:\"w-100\",value:formFields.name,onChange:changeInput,name:\"name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Pincode\",variant:\"outlined\",className:\"w-100\",value:formFields.pincode,onChange:changeInput,name:\"pincode\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Phone Number.\",variant:\"outlined\",className:\"w-100\",value:formFields.phoneNumber,onChange:changeInput,name:\"phoneNumber\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Full Address\",variant:\"outlined\",className:\"w-100\",multiline:true,rows:4,value:formFields.address,onChange:changeInput,name:\"address\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 cartRightBox pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-light\",children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-auto mb-0 font-weight-bold\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-g\",children:context.cartTotalAmount})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-light\",children:\"Shipping\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-auto mb-0 font-weight-bold\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Free\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-light\",children:\"Total\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-auto mb-0 font-weight-bold\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-g\",children:context.cartTotalAmount})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{className:\"btn-g btn-lg\",onClick:placeOrder,children:\"Place Order\"})]})})]})})})});};export default Checkout;","map":{"version":3,"names":["Button","TextField","React","useContext","useState","MyContext","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Checkout","_useState","name","pincode","address","phoneNumber","_useState2","_slicedToArray","formFields","setformFields","context","history","placeOrder","alert","addressInfo","date","Date","toLocaleString","month","day","year","options","key","key_secret","amount","parseInt","cartTotalAmount","currency","order_receipt","description","handler","response","paymentId","razorpay_payment_id","orderInfo","cartItems","email","localStorage","getItem","userid","theme","color","pay","window","Razorpay","open","changeInput","e","_e$target","target","value","_objectSpread","_defineProperty","className","children","id","label","variant","onChange","multiline","rows","onClick"],"sources":["E:/Ecommerce_Nest/Ecommerce-Website-React-main/src/pages/checkout/index.js"],"sourcesContent":["\r\nimport { Button } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport React, { useContext, useState } from 'react';\r\n\r\nimport { MyContext } from '../../App';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\n\r\nconst Checkout = () => {\r\n\r\n    const [formFields, setformFields] = useState({\r\n        name: '',\r\n        pincode: '',\r\n        address: '',\r\n        phoneNumber: ''\r\n    })\r\n\r\n    const context = useContext(MyContext);\r\n    const history = useNavigate();\r\n\r\n\r\n\r\n    const placeOrder = () => {\r\n\r\n        if (formFields.name === \"\" || formFields.address == \"\" || formFields.pincode == \"\" || formFields.phoneNumber == \"\") {\r\n            alert(\"All fields Required\");\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        const addressInfo = {\r\n            name: formFields.name,\r\n            phoneNumber: formFields.phoneNumber,\r\n            address: formFields.address,\r\n            pincode: formFields.pincode,\r\n            date: new Date().toLocaleString(\r\n                \"en-US\",\r\n                {\r\n                    month: \"short\",\r\n                    day: \"2-digit\",\r\n                    year: \"numeric\",\r\n                }\r\n            )\r\n        }\r\n\r\n\r\n\r\n        var options = {\r\n            key: \"rzp_test_frsIrr7Fl8aG9M\",\r\n            key_secret:\"WQRbZ4AOhQYBlhDJrxvf7lOl\",\r\n            amount: parseInt(context.cartTotalAmount * 100),\r\n            currency: \"INR\",\r\n            order_receipt: 'order_rcptid_' + formFields.name,\r\n            name: \"Nest Mart & Grocery\",\r\n            description: \"for testing purpose\",\r\n            handler: function (response) {\r\n\r\n                // console.log(response)\r\n\r\n\r\n                const paymentId = response.razorpay_payment_id\r\n                // store in firebase \r\n                const orderInfo = {\r\n                    cartItems: context.cartItems,\r\n                    addressInfo: addressInfo,\r\n                    date: new Date().toLocaleString(\r\n                        \"en-US\",\r\n                        {\r\n                            month: \"short\",\r\n                            day: \"2-digit\",\r\n                            year: \"numeric\",\r\n                        }\r\n                    ),\r\n                    email: localStorage.getItem(\"userEmail\"),\r\n                    userid:localStorage.getItem(\"userId\"),\r\n                    paymentId\r\n                }\r\n                  \r\n                \r\n\r\n\r\n                history('/')\r\n\r\n\r\n            },\r\n\r\n            theme: {\r\n                color: \"#3399cc\"\r\n            }\r\n        };\r\n\r\n\r\n        var pay = new window.Razorpay(options);\r\n        pay.open();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    const changeInput = (e) => {\r\n        const { name, value } = e.target;\r\n\r\n        setformFields(() => ({\r\n            ...formFields,\r\n            [name]: value\r\n        }))\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <section className='cartSection mb-5 checkoutPage'>\r\n            <div className='container'>\r\n                <form>\r\n                    <div className='row'>\r\n                        <div className='col-md-8'>\r\n                            <div className='form w-75 mt-4 shadow'>\r\n                                <h3>Shopping Address</h3>\r\n                                <div className='form-group mb-3 mt-4'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Full Name\" variant=\"outlined\" className='w-100' value={formFields.name} onChange={changeInput} name=\"name\" />\r\n                                </div>\r\n                                <div className='form-group mb-3'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Pincode\" variant=\"outlined\" className='w-100' value={formFields.pincode} onChange={changeInput} name=\"pincode\" />\r\n                                </div>\r\n                                <div className='form-group mb-3'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Phone Number.\" variant=\"outlined\" className='w-100' value={formFields.phoneNumber} onChange={changeInput} name=\"phoneNumber\" />\r\n                                </div>\r\n                                <div className='form-group'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Full Address\" variant=\"outlined\" className='w-100' multiline\r\n                                        rows={4} value={formFields.address} onChange={changeInput} name=\"address\" />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <div className='col-md-4 cartRightBox pt-4'>\r\n                            <div className='card p-4 '>\r\n                                <div className='d-flex align-items-center mb-4'>\r\n                                    <h5 className='mb-0 text-light'>Subtotal</h5>\r\n                                    <h3 className='ml-auto mb-0 font-weight-bold'><span className='text-g'>\r\n                                        {context.cartTotalAmount}\r\n                                    </span></h3>\r\n                                </div>\r\n\r\n                                <div className='d-flex align-items-center mb-4'>\r\n                                    <h5 className='mb-0 text-light'>Shipping</h5>\r\n                                    <h3 className='ml-auto mb-0 font-weight-bold'><span >Free</span></h3>\r\n                                </div>\r\n\r\n\r\n\r\n\r\n                                <div className='d-flex align-items-center mb-4'>\r\n                                    <h5 className='mb-0 text-light'>Total</h5>\r\n                                    <h3 className='ml-auto mb-0 font-weight-bold'><span className='text-g'>\r\n                                        {context.cartTotalAmount}\r\n                                    </span></h3>\r\n                                </div>\r\n\r\n\r\n                                <br />\r\n                                <Button className='btn-g btn-lg' onClick={placeOrder}>Place Order</Button>\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Checkout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}